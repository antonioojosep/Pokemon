{% extends 'base.html.twig' %}

{% block title %}Batalla Pokémon{% endblock %}

{% block body %}
<div class="container">
    <h1>Batalla Pokémon</h1>
    
    <div class="battle-container">
        <div class="pokemon-card" style="width: 300px;">
            <div class="pokemon-info">
                <h2>Tu Pokémon</h2>
                <img src="{{ myPokemon.pokemon.imagen }}" alt="{{ myPokemon.pokemon.nombre }}" class="pokemon-image">
                <h3>{{ myPokemon.pokemon.nombre }}</h3>
                <p>Fuerza: {{ myPokemon.fuerza }}</p>
                <p>Nivel: {{ myPokemon.nivel }}</p>
            </div>
        </div>
        
        <div class="vs">VS</div>
        
        <div class="pokemon-card" style="width: 300px;">
            <div class="pokemon-info">
                <h2>Pokémon Aleatorio</h2>
                <img src="{{ randomPokemon.imagen }}" alt="{{ randomPokemon.nombre }}" class="pokemon-image">
                <h3>{{ randomPokemon.nombre }}</h3>
                <p>Fuerza: {{ fuerza }}</p>
                <p>Nivel: {{ nivel }}</p>
            </div>
        </div>
    </div>
    
    <div class="text-center">
        <h2 style="color: {% if ganador == myPokemon.pokemon.nombre %}#28a745{% else %}#dc3545{% endif %};">
            Ganador: {{ ganador }}
        </h2>
        
        {% if ganador == myPokemon.pokemon.nombre %}
            <div class="victory-options">
                <h3>¡Has ganado! Elige una recompensa:</h3>
                <div class="button-group">
                    <a href="{{ path('app_pokedex_subir_nivel', {'id': myPokemon.id}) }}" class="btn btn-success">Subir de Nivel</a>
                    <a href="{{ path('app_pokedex_capturar', {'id': randomPokemon.id}) }}" class="btn btn-primary">Intentar Capturar</a>
                    <a href="{{ path('app_pokedex_resucitar') }}" class="btn btn-warning">Resucitar Pokémon</a>
                </div>
            </div>
        {% endif %}
        
        <a href="{{ path('app_pokedex_index') }}" class="btn btn-primary mt-3">Volver a la Pokédex</a>
    </div>
</div>
{% endblock %}